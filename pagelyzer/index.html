<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Demo Pagelyzer</title>
<link rel="stylesheet" href="/StyleJS/css/style.css">

<script src="/StyleJS/ajax.js"></script>

<script>
	/**Ajax Request (Submits the form below through AJAX
	 *               and then calls the ajax_response function)
	 */

	function resetForm() {
		document.getElementById('form1').reset();
		resetResults();

	}

	function resetResults() {
		document.getElementById("content").innerHTML = "";

		document.getElementById("progressBar").className = "";

		document.getElementById("progressBar").innerHTML = "";
	}

	function ajax_request() {

		resetResults();

		document.getElementById("progressBar").className = "spinner";
		var url1 = document.getElementById("url1").value;//by id
		var url2 = document.getElementById("url2").value;//by id
		var type = 1;

		var radios = document.getElementsByTagName('input');
		for (var i = 0; i < radios.length; i++) {
			if (radios[i].type === 'radio' && radios[i].checked) {
				type = radios[i].value;
			}
		}

		var submitTo = './check.php?url1=' + encodeURIComponent(url1)
				+ "&url2=" + encodeURIComponent(url2) + "&type=" + type;
		http('POST', submitTo, ajax_response, document.form1);

	}

	/**Ajax Response (Called when ajax data has been retrieved)
	 *
	 * @param   object  data   Javascript (JSON) data object received
	 *                         through ajax call
	 */
	function ajax_response(data) {

		var score = "";
		for ( var key in data) {
			score += data[key];
		}

		var res = score.split("::");
		score = res[1].substring(0, res[1].length - 1);
		//document.getElementById("content").innerHTML = "Score: " + parseFloat(score).toFixed(2);

		if (parseFloat(score) > 0) {
			document.getElementById("progressBar").className = "OK";
			document.getElementById("content").innerHTML = "SIMILAR";

		} else {
			document.getElementById("progressBar").className = "NOTOK";
			document.getElementById("content").innerHTML = "DISSIMILAR";
		}
	}
</script>


</head>
<body>

	<div id="scape" class="sign-up">
		<table width="100%">
			<tr>
				<td width="50%"><img src="/images/logo.png" /></td>
				<td width="50%">
					<h1 class="sign-up-title">Pagelyzer Demonstration - Detect
						differences in web pages.</h1>
				</td>

			</tr>
		</table>



		<br /> <br /> <br /> <br />

		<div class="wrapper">
			<ul>
				<li style="list-style: none;"><input type="radio"
					name="custom_type" value="1" class="styled" checked=true /> Image
					Based <input type="radio" name="custom_type" value="2"
					id="custom_venuetype_private" class="styled" /> Content Based <input
					type="radio" name="custom_type" value="3"
					id="custom_venuetype_private" class="styled" /> Hybrid</li>
			</ul>
		</div>


		<br /> <br /> <br /> <br />

		<form name="form1" id="form1">
			<table width="100%">
				<tr>
					<td><input type="text" id="url1" class="sign-up-input"
						placeholder="First Url" onkeypress="resetResults()"></td>
					<td><input type="text" id="url2" class="sign-up-input"
						placeholder="Second Url" onkeypress="resetResults()"></td>

				</tr>
			</table>


			<div class="buttonHolder">
				<input type="button" class="sign-up-button" onclick="ajax_request()"
					value="Compare Web Pages"> <input type="button"
					class="reset-button" onclick="resetForm()" value="Reset"><br>
				<br>



			</div>


			<ul class="list">
				<li>Please enter valid Urls for analysis.</li>
				<li>This demo uses js injection for Content based and Hybrid
					analysis, and it can't test pages that prevent injection, e.g.
					google.com.</li>
				<li>This demonstration tests Pagelyzer functionality, but not
					performance which is affected by network bandwidth and server load.</li>
			</ul>
			<hr>
			<table width="100%">
				<tr>
					<td width="10%">
						<div id="progressBar"></div>
					</td>
					<td width="20%">
						<div id="content" class="result-title"></div>
					</td>

				</tr>
			</table>

		</form>

	</div>

	<div id="links" class="sign-up">
		<h1 class="sign-up-title">Related Links</h1>
		<ul class="list">
			<li>Pagelyzer at Wiki <a
				href="http://wiki.opf-labs.org/display/TR/Pagelyzer">here</a>
			</li>
			<li>Pagelyzer at Github <a
				href="https://github.com/openplanets/pagelyzer"> here </a></li>
			<li>Pagelyzer blog post: coming soon</li>
			<li>MarcAlizer (supervised framework in Pagelyzer) at Github <a
				href="https://github.com/lechervy/MarcAlizer/"> here </a></li>
			<li>Pagelyzer scability test results (image based) by IMF <a
				href="http://www.openplanetsfoundation.org/blogs/2013-07-26-browser-screenshot-comparison-tool">
					here </a></li>
			<li>For any question or further information please contact to
				zeynep.pehlivan@lip6.fr or marc.law@lip6.fr or andres.sanoja@lip6.fr</a>
			</li>
		</ul>
	</div>


>>>>>>> utd

</body>
</html>

